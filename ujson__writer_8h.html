<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ujson: ujson_writer.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ujson
   </div>
   <div id="projectbrief">Complete and simple JSON reader and writer written in C</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">ujson_writer.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A JSON writer.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="ujson__common_8h_source.html">ujson_common.h</a>&gt;</code><br />
</div>
<p><a href="ujson__writer_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structujson__writer.html">ujson_writer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A JSON writer.  <a href="structujson__writer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a315860988a9a0edfaafdcf2dacefb123"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ujson__writer_8h.html#a315860988a9a0edfaafdcf2dacefb123">UJSON_WRITER_INIT</a>(vout,  vout_priv)</td></tr>
<tr class="memdesc:a315860988a9a0edfaafdcf2dacefb123"><td class="mdescLeft">&#160;</td><td class="mdescRight">An <a class="el" href="structujson__writer.html" title="A JSON writer.">ujson_writer</a> initializer with default values.  <a href="ujson__writer_8h.html#a315860988a9a0edfaafdcf2dacefb123">More...</a><br /></td></tr>
<tr class="separator:a315860988a9a0edfaafdcf2dacefb123"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6638b2a5f374565c29859b74eaae65d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structujson__writer.html">ujson_writer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ujson__writer_8h.html#a6638b2a5f374565c29859b74eaae65d5">ujson_writer_file_open</a> (const char *path)</td></tr>
<tr class="memdesc:a6638b2a5f374565c29859b74eaae65d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates a JSON file writer.  <a href="ujson__writer_8h.html#a6638b2a5f374565c29859b74eaae65d5">More...</a><br /></td></tr>
<tr class="separator:a6638b2a5f374565c29859b74eaae65d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f352f5c0ff3128fae807db7e1b43944"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ujson__writer_8h.html#a8f352f5c0ff3128fae807db7e1b43944">ujson_writer_file_close</a> (<a class="el" href="structujson__writer.html">ujson_writer</a> *self)</td></tr>
<tr class="memdesc:a8f352f5c0ff3128fae807db7e1b43944"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes and frees a JSON file writer.  <a href="ujson__writer_8h.html#a8f352f5c0ff3128fae807db7e1b43944">More...</a><br /></td></tr>
<tr class="separator:a8f352f5c0ff3128fae807db7e1b43944"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ee6eb06bc38020ea64139f07aba6ab4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ujson__writer_8h.html#a4ee6eb06bc38020ea64139f07aba6ab4">ujson_writer_err</a> (<a class="el" href="structujson__writer.html">ujson_writer</a> *self)</td></tr>
<tr class="memdesc:a4ee6eb06bc38020ea64139f07aba6ab4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if writer error happened.  <a href="ujson__writer_8h.html#a4ee6eb06bc38020ea64139f07aba6ab4">More...</a><br /></td></tr>
<tr class="separator:a4ee6eb06bc38020ea64139f07aba6ab4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae08e6279508ba3ec1ba9fe83b6dd7f90"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ujson__writer_8h.html#ae08e6279508ba3ec1ba9fe83b6dd7f90">ujson_obj_start</a> (<a class="el" href="structujson__writer.html">ujson_writer</a> *self, const char *id)</td></tr>
<tr class="memdesc:ae08e6279508ba3ec1ba9fe83b6dd7f90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts an JSON object.  <a href="ujson__writer_8h.html#ae08e6279508ba3ec1ba9fe83b6dd7f90">More...</a><br /></td></tr>
<tr class="separator:ae08e6279508ba3ec1ba9fe83b6dd7f90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9038172e3ec21c7558059ee367635467"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ujson__writer_8h.html#a9038172e3ec21c7558059ee367635467">ujson_obj_finish</a> (<a class="el" href="structujson__writer.html">ujson_writer</a> *self)</td></tr>
<tr class="memdesc:a9038172e3ec21c7558059ee367635467"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finishes a JSON object.  <a href="ujson__writer_8h.html#a9038172e3ec21c7558059ee367635467">More...</a><br /></td></tr>
<tr class="separator:a9038172e3ec21c7558059ee367635467"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d6208f7d8fc38ea3f11b96f20ae7d43"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ujson__writer_8h.html#a6d6208f7d8fc38ea3f11b96f20ae7d43">ujson_arr_start</a> (<a class="el" href="structujson__writer.html">ujson_writer</a> *self, const char *id)</td></tr>
<tr class="memdesc:a6d6208f7d8fc38ea3f11b96f20ae7d43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts an json array.  <a href="ujson__writer_8h.html#a6d6208f7d8fc38ea3f11b96f20ae7d43">More...</a><br /></td></tr>
<tr class="separator:a6d6208f7d8fc38ea3f11b96f20ae7d43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1324a6c13c5b82912efb538050728598"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ujson__writer_8h.html#a1324a6c13c5b82912efb538050728598">ujson_arr_finish</a> (<a class="el" href="structujson__writer.html">ujson_writer</a> *self)</td></tr>
<tr class="memdesc:a1324a6c13c5b82912efb538050728598"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finishes a JSON array.  <a href="ujson__writer_8h.html#a1324a6c13c5b82912efb538050728598">More...</a><br /></td></tr>
<tr class="separator:a1324a6c13c5b82912efb538050728598"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6975adf2b0f45eefca13620796d26ae2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ujson__writer_8h.html#a6975adf2b0f45eefca13620796d26ae2">ujson_null_add</a> (<a class="el" href="structujson__writer.html">ujson_writer</a> *self, const char *id)</td></tr>
<tr class="memdesc:a6975adf2b0f45eefca13620796d26ae2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a null value.  <a href="ujson__writer_8h.html#a6975adf2b0f45eefca13620796d26ae2">More...</a><br /></td></tr>
<tr class="separator:a6975adf2b0f45eefca13620796d26ae2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d79a62c38101c82651e46fd4877f3e1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ujson__writer_8h.html#a1d79a62c38101c82651e46fd4877f3e1">ujson_int_add</a> (<a class="el" href="structujson__writer.html">ujson_writer</a> *self, const char *id, long val)</td></tr>
<tr class="memdesc:a1d79a62c38101c82651e46fd4877f3e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds an integer value.  <a href="ujson__writer_8h.html#a1d79a62c38101c82651e46fd4877f3e1">More...</a><br /></td></tr>
<tr class="separator:a1d79a62c38101c82651e46fd4877f3e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d2a9ca5371ee3c6fc8c2947bc684fda"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ujson__writer_8h.html#a8d2a9ca5371ee3c6fc8c2947bc684fda">ujson_bool_add</a> (<a class="el" href="structujson__writer.html">ujson_writer</a> *self, const char *id, int val)</td></tr>
<tr class="memdesc:a8d2a9ca5371ee3c6fc8c2947bc684fda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a bool value.  <a href="ujson__writer_8h.html#a8d2a9ca5371ee3c6fc8c2947bc684fda">More...</a><br /></td></tr>
<tr class="separator:a8d2a9ca5371ee3c6fc8c2947bc684fda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9645420bd1e66f47cb071613133d4889"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ujson__writer_8h.html#a9645420bd1e66f47cb071613133d4889">ujson_float_add</a> (<a class="el" href="structujson__writer.html">ujson_writer</a> *self, const char *id, double val)</td></tr>
<tr class="memdesc:a9645420bd1e66f47cb071613133d4889"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a float value.  <a href="ujson__writer_8h.html#a9645420bd1e66f47cb071613133d4889">More...</a><br /></td></tr>
<tr class="separator:a9645420bd1e66f47cb071613133d4889"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a467a5cd1abc1a37655c37f445def8191"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ujson__writer_8h.html#a467a5cd1abc1a37655c37f445def8191">ujson_str_add</a> (<a class="el" href="structujson__writer.html">ujson_writer</a> *self, const char *id, const char *str)</td></tr>
<tr class="memdesc:a467a5cd1abc1a37655c37f445def8191"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a string value.  <a href="ujson__writer_8h.html#a467a5cd1abc1a37655c37f445def8191">More...</a><br /></td></tr>
<tr class="separator:a467a5cd1abc1a37655c37f445def8191"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a719fa0b9b72be6549949779eb3d7d335"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ujson__writer_8h.html#a719fa0b9b72be6549949779eb3d7d335">ujson_writer_finish</a> (<a class="el" href="structujson__writer.html">ujson_writer</a> *self)</td></tr>
<tr class="memdesc:a719fa0b9b72be6549949779eb3d7d335"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finalizes json writer.  <a href="ujson__writer_8h.html#a719fa0b9b72be6549949779eb3d7d335">More...</a><br /></td></tr>
<tr class="separator:a719fa0b9b72be6549949779eb3d7d335"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A JSON writer. </p>
<p>All the function that add values return 0 on success and non-zero on a failure. Once an error has happened all subsequent attempts to add more values return with non-zero exit status immediatelly. This is designed so that we can add several values without checking each return value and only check if error has happened at the end of the sequence.</p>
<p>Failures may occur:</p><ul>
<li>if we call the functions out of order, e.g. attempt to finish array when we are not writing out an array.</li>
<li>if we run out of recursion stack</li>
<li>may be propagated from the writer function, e.g. allocation failure, no space on disk, etc. </li>
</ul>

<p class="definition">Definition in file <a class="el" href="ujson__writer_8h_source.html">ujson_writer.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a315860988a9a0edfaafdcf2dacefb123"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a315860988a9a0edfaafdcf2dacefb123">&#9670;&nbsp;</a></span>UJSON_WRITER_INIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UJSON_WRITER_INIT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">vout, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">vout_priv&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">        { \</div>
<div class="line">        .err_print = UJSON_ERR_PRINT, \</div>
<div class="line">        .err_print_priv = UJSON_ERR_PRINT_PRIV, \</div>
<div class="line">        .out = vout, \</div>
<div class="line">        .out_priv = vout_priv \</div>
<div class="line">}</div>
</div><!-- fragment -->
<p>An <a class="el" href="structujson__writer.html" title="A JSON writer.">ujson_writer</a> initializer with default values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vout</td><td>A pointer to function to write out the data. </td></tr>
    <tr><td class="paramname">vout_priv</td><td>An user pointer passed to the out function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An <a class="el" href="structujson__writer.html" title="A JSON writer.">ujson_writer</a> initialized with default values. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ujson__writer_8h_source.html#l00053">53</a> of file <a class="el" href="ujson__writer_8h_source.html">ujson_writer.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a1324a6c13c5b82912efb538050728598"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1324a6c13c5b82912efb538050728598">&#9670;&nbsp;</a></span>ujson_arr_finish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ujson_arr_finish </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structujson__writer.html">ujson_writer</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finishes a JSON array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>A JSON writer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6d6208f7d8fc38ea3f11b96f20ae7d43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d6208f7d8fc38ea3f11b96f20ae7d43">&#9670;&nbsp;</a></span>ujson_arr_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ujson_arr_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structujson__writer.html">ujson_writer</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts an json array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>A JSON writer. </td></tr>
    <tr><td class="paramname">id</td><td>An array name. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8d2a9ca5371ee3c6fc8c2947bc684fda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d2a9ca5371ee3c6fc8c2947bc684fda">&#9670;&nbsp;</a></span>ujson_bool_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ujson_bool_add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structujson__writer.html">ujson_writer</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a bool value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>A JSON writer. </td></tr>
    <tr><td class="paramname">id</td><td>An boolean value name. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9645420bd1e66f47cb071613133d4889"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9645420bd1e66f47cb071613133d4889">&#9670;&nbsp;</a></span>ujson_float_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ujson_float_add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structujson__writer.html">ujson_writer</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a float value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>A JSON writer. </td></tr>
    <tr><td class="paramname">id</td><td>A floating point value name. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1d79a62c38101c82651e46fd4877f3e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d79a62c38101c82651e46fd4877f3e1">&#9670;&nbsp;</a></span>ujson_int_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ujson_int_add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structujson__writer.html">ujson_writer</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds an integer value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>A JSON writer. </td></tr>
    <tr><td class="paramname">id</td><td>An integer value name. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6975adf2b0f45eefca13620796d26ae2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6975adf2b0f45eefca13620796d26ae2">&#9670;&nbsp;</a></span>ujson_null_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ujson_null_add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structujson__writer.html">ujson_writer</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a null value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>A JSON writer. </td></tr>
    <tr><td class="paramname">id</td><td>A null value name. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9038172e3ec21c7558059ee367635467"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9038172e3ec21c7558059ee367635467">&#9670;&nbsp;</a></span>ujson_obj_finish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ujson_obj_finish </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structujson__writer.html">ujson_writer</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finishes a JSON object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>A JSON writer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae08e6279508ba3ec1ba9fe83b6dd7f90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae08e6279508ba3ec1ba9fe83b6dd7f90">&#9670;&nbsp;</a></span>ujson_obj_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ujson_obj_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structujson__writer.html">ujson_writer</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts an JSON object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>A JSON writer. </td></tr>
    <tr><td class="paramname">id</td><td>An object name. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a467a5cd1abc1a37655c37f445def8191"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a467a5cd1abc1a37655c37f445def8191">&#9670;&nbsp;</a></span>ujson_str_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ujson_str_add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structujson__writer.html">ujson_writer</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a string value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>A JSON writer. </td></tr>
    <tr><td class="paramname">id</td><td>A string value name. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4ee6eb06bc38020ea64139f07aba6ab4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ee6eb06bc38020ea64139f07aba6ab4">&#9670;&nbsp;</a></span>ujson_writer_err()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ujson_writer_err </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structujson__writer.html">ujson_writer</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if writer error happened. </p>
<dl class="section return"><dt>Returns</dt><dd>True if error has happened. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ujson__writer_8h_source.html#l00087">87</a> of file <a class="el" href="ujson__writer_8h_source.html">ujson_writer.h</a>.</p>

</div>
</div>
<a id="a8f352f5c0ff3128fae807db7e1b43944"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f352f5c0ff3128fae807db7e1b43944">&#9670;&nbsp;</a></span>ujson_writer_file_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ujson_writer_file_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structujson__writer.html">ujson_writer</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Closes and frees a JSON file writer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>A <a class="el" href="structujson__writer.html" title="A JSON writer.">ujson_writer</a> file writer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero on success, 1 on a failure and errno is set. </dd></dl>

</div>
</div>
<a id="a6638b2a5f374565c29859b74eaae65d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6638b2a5f374565c29859b74eaae65d5">&#9670;&nbsp;</a></span>ujson_writer_file_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structujson__writer.html">ujson_writer</a>* ujson_writer_file_open </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates a JSON file writer. </p>
<p>The call may fail either when file cannot be opened for writing or if allocation has failed. In all cases errno should be set correctly.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>A path to the file, file is opened for writing and created if it does not exist.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <a class="el" href="structujson__writer.html" title="A JSON writer.">ujson_writer</a> pointer or NULL in a case of failure. </dd></dl>

</div>
</div>
<a id="a719fa0b9b72be6549949779eb3d7d335"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a719fa0b9b72be6549949779eb3d7d335">&#9670;&nbsp;</a></span>ujson_writer_finish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ujson_writer_finish </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structujson__writer.html">ujson_writer</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finalizes json writer. </p>
<p>Finalizes the json writer, throws possible errors through the error printing function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>A JSON writer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Overall error value. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
